(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"9kvl":function(e,a,t){"use strict";var n=t("FfOG");t.d(a,"a",(function(){return n["b"]}));t("bCY9")},HG4Z:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),l=t("dEAq"),c=t("Zxc8"),o=t("H1Ra"),i=t("Rsk4"),m=r.a.memo(i["default"]["api-string"].component),s=r.a.memo(i["default"]["api-object"].component),d=r.a.memo(i["default"]["api-promise"].component),u=r.a.memo(i["default"]["api-fn"].component),p=r.a.memo(i["default"]["api-form_error"].component),E=r.a.memo(i["default"]["api-url_template"].component),f=r.a.memo(i["default"]["api-request"].component),h=r.a.memo(i["default"]["api-response"].component),b=r.a.memo(i["default"]["api-map_fn"].component),v=r.a.memo(i["default"]["api-notice_custom"].component),k=r.a.memo(i["default"]["api-notice_type"].component);a["default"]=e=>(r.a.useEffect((()=>{var a;null!==e&&void 0!==e&&null!==(a=e.location)&&void 0!==a&&a.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"api-\u8bf7\u6c42"},r.a.createElement(l["AnchorLink"],{to:"#api-\u8bf7\u6c42","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"API \u8bf7\u6c42"),r.a.createElement("h2",{id:"\u914d\u7f6e-axios"},r.a.createElement(l["AnchorLink"],{to:"#\u914d\u7f6e-axios","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e axios"),r.a.createElement("p",null,"\u7531\u4e8e\u6bcf\u4e2a\u516c\u53f8\u7684\u63a5\u53e3\u89c4\u8303\u4e0d\u5c3d\u76f8\u540c\uff0c\u6240\u4ee5 super-antd \u5e76\u6ca1\u6709\u5185\u7f6e axios\uff0c\u800c\u662f\u91c7\u7528\u914d\u7f6e\u7684\u65b9\u5f0f\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u516c\u53f8\u60c5\u51b5\u5b9a\u5236 axios\uff0c\u4f8b\u5982\u516c\u53f8\u91c7\u7528\u5982\u4e0b\u7684\u63a5\u53e3\u7ea6\u5b9a\uff1a"),r.a.createElement(o["a"],{code:'{\n  code: 0, // code \u4e3a 0 \u8868\u793a\u65e0\u9519\u8bef\uff0c\u5176\u4ed6\u503c\u5219\u4e3a\u76f8\u5e94\u7684\u9519\u8bef\u7801\n  message: "ok", // message \u4e3a\u8fd4\u56de\u7684\u4fe1\u606f\n  data: { // data \u4e3a\u8bf7\u6c42\u8fd4\u56de\u6570\u636e\n    //..\n  }\n}',lang:"js"}),r.a.createElement("p",null,"\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u521b\u5efa axios \u5b9e\u4f8b\u4e3a\uff1a"),r.a.createElement(o["a"],{code:"// ./axios-instance.js\n\n// \u5f15\u5165 axios\nimport axios from 'axios';\n\n// \u521b\u5efa\u65b0\u7684 axios \u5b9e\u4f8b\nconst instance = axios.create({});\n\n// \u521b\u5efa\u76f8\u5e94\u62e6\u622a\u5668\ninstance.interceptors.response.use(\n  function ({ status, data: { code, message, data } }) {\n    // \u5982\u679c\u54cd\u5e94\u7ed3\u679c\u662f 200 \u4e14 code \u4e3a 0 \uff0c\u5219\u4ee3\u8868\u8bf7\u6c42\u6210\u529f\n    if (status === 200 && code === 0) {\n      // \u76f4\u63a5\u8fd4\u56de\u8bf7\u6c42\u6570\u636e\uff0c\u53d6\u51fa\u54cd\u5e94\u7ed3\u679c\u91cc\u7684 data \u6570\u636e\n      return data;\n    }\n\n    // \u5426\u5219\u662f\u8bf7\u6c42\u5931\u8d25\n    // \u8bf7\u6c42\u5931\u8d25\u6709\u4e24\u79cd\u8fd4\u56de\u7ed3\u679c\n    // \u7b2c\u4e00\u79cd\u8fd4\u56de\u7ed3\u679c\u662f string \u7c7b\u578b\uff0c\u4ee3\u8868\u9519\u8bef\u4fe1\u606f\n    return Promise.reject(msg);\n\n    // \u8868\u5355\u9519\u8bef\u56de\u663e\n    // \u7b2c\u4e8c\u79cd\u8fd4\u56de\u7ed3\u679c\u662f object \u7c7b\u578b\uff0c\u4ee3\u8868\u5176\u4e2d message \u4ee3\u8868\u9519\u8bef\u4fe1\u606f\uff0cerrors \u4ee3\u8868\u9519\u8bef\u7684\u8be6\u7ec6\u89e3\u91ca\n    // \u8fd9\u79cd\u60c5\u51b5\u4e3b\u8981\u662f\u5e94\u5bf9\u8868\u5355\u670d\u52a1\u5668\u6821\u68c0\u56de\u663e\n    return Promise.reject({\n      message,\n      errors: data,\n    });\n  },\n  function (error) {\n    // \u4e00\u822c\u662f\u8de8\u57df\u6216\u8005\u7f51\u7edc\u9519\u8bef\n    // \u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de error\uff0c\u5185\u90e8\u4f1a\u81ea\u52a8\u83b7\u53d6 error.message \u5c5e\u6027\n    return Promise.reject(error);\n  },\n);\n\n// \u5bfc\u51fa\nexport default instance;",lang:"js"}),r.a.createElement("p",null,"\u5f53\u7136\u4e0a\u9762\u7684\u5904\u7406\u65b9\u5f0f\u53ea\u662f\u6700\u7b80\u5355\u7684\uff0c\u5bf9\u4e8e\u6709\u4e9b\u4e1a\u52a1\u903b\u8f91\uff0c\u4f8b\u5982 ",r.a.createElement("code",null,"301"),"\u3001",r.a.createElement("code",null,"304")," \u7b49\u9700\u8981\u9000\u51fa\u767b\u5f55\u6216\u8005\u8df3\u8f6c\u9875\u9762\u6216\u8005\u4e0a\u62a5\u65e5\u5fd7\uff0c\u53ef\u4ee5\u7ee7\u7eed\u52a0 ",r.a.createElement("code",null,"if/else"),"\uff0c\u53ea\u9700\u8981\u8bb0\u4f4f\u6700\u7ec8\u7684\u8fd4\u56de\u7ed3\u679c\u662f\uff1a `"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"\u6210\u529f"),"\uff1a\u8fd4\u56de\u76f8\u5e94\u7684 ",r.a.createElement("code",null,"data"),"\uff1b"),r.a.createElement("li",null,r.a.createElement("strong",null,"\u5931\u8d25"),"\uff1a\u8fd4\u56de ",r.a.createElement("code",null,"string \u6216\u8005 Error")," \u7c7b\u578b\u7684\u9519\u8bef\u539f\u56e0\uff0c\u6216\u8005 ",r.a.createElement("code",null,"{","message: string, errors: object","}")," \u7684\u9519\u8bef\u5bf9\u8c61\u3002")),r.a.createElement("p",null,"\u7136\u540e\u901a\u8fc7 ",r.a.createElement("code",null,"SuperProvider")," \u63d0\u4f9b\u7ed9\u5b50\u5b59\u7ec4\u4ef6\u4f7f\u7528\u8fd9\u4e2a axios \u5b9e\u4f8b\uff1a"),r.a.createElement(o["a"],{code:"import { SuperProvider } from 'super-antd';\nimport axiosInstance from './axios-instance';\n<SuperProvider axios={axiosInstance}>{/** \u5176\u4ed6\u7ec4\u4ef6 */}</SuperProvider>;",lang:"jsx"}),r.a.createElement("h2",{id:"\u8bf7\u6c42\u5730\u5740"},r.a.createElement(l["AnchorLink"],{to:"#\u8bf7\u6c42\u5730\u5740","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8bf7\u6c42\u5730\u5740"),r.a.createElement("h3",{id:"api-\u4e3a\u5b57\u7b26\u4e32"},r.a.createElement(l["AnchorLink"],{to:"#api-\u4e3a\u5b57\u7b26\u4e32","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"api \u4e3a\u5b57\u7b26\u4e32"),r.a.createElement("p",null,"\u6211\u4eec\u4ee5 ",r.a.createElement("code",null,"SuperForm")," \u4e2d\u7684 ",r.a.createElement("code",null,"initApi")," \u5c5e\u6027\u4e3a\u4f8b\uff1a"),r.a.createElement(o["a"],{code:'<SuperForm initApi="/user/1"></SuperForm>',lang:"jsx"})),r.a.createElement(c["default"],i["default"]["api-string"].previewerProps,r.a.createElement(m,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"api-\u4e3a\u5bf9\u8c61"},r.a.createElement(l["AnchorLink"],{to:"#api-\u4e3a\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"api \u4e3a\u5bf9\u8c61"),r.a.createElement("p",null,"\u5982\u679c api \u4e3a\u5bf9\u8c61\u7c7b\u578b\uff0c\u5219\u5176\u914d\u7f6e\u5185\u5bb9\u540c ",r.a.createElement(l["Link"],{to:"https://gitee.com/mirrors/axios?utm_source=alading&utm_campaign=repo#request-config"},"axios \u8bf7\u6c42\u5bf9\u8c61"),"\uff0c\u4f8b\u5982\uff1a"),r.a.createElement(o["a"],{code:"<SuperForm\n  initApi={{\n    url: '/user/1',\n    method: 'GET',\n    params: {\n      foo: 'bar',\n    },\n  }}\n></SuperForm>",lang:"jsx"})),r.a.createElement(c["default"],i["default"]["api-object"].previewerProps,r.a.createElement(s,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"api-\u4e3a\u5f02\u6b65\u51fd\u6570"},r.a.createElement(l["AnchorLink"],{to:"#api-\u4e3a\u5f02\u6b65\u51fd\u6570","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"api \u4e3a\u5f02\u6b65\u51fd\u6570"),r.a.createElement("p",null,"\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c06\u8bf7\u6c42\u7edf\u4e00\u653e\u5230\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u5148\u4e66\u5199\u597d\uff0c\u7136\u540e\u5bfc\u51fa\u4f9b\u5916\u90e8\u4f7f\u7528\uff0c\u4f8b\u5982\uff1a"),r.a.createElement(o["a"],{code:"// \u83b7\u53d6\u7528\u6237\nexport const getUser = (id: number) => {\n  return axios({ method: 'GET', url: `/user/${id}` });\n};\n\n// \u66f4\u65b0\u6587\u7ae0\nexport const updateArticle = (id: number) => {\n  // ...\n};",lang:"ts"}),r.a.createElement(o["a"],{code:"import { getUser } from 'path/to/api';\n\n<SuperForm initApi={() => getUser(1)}></SuperForm>;",lang:"jsx"}),r.a.createElement("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u662f\u652f\u6301\u7684\uff0c\u5177\u4f53\u770b\u4e0b\u9762\u4f8b\u5b50\uff1a")),r.a.createElement(c["default"],i["default"]["api-promise"].previewerProps,r.a.createElement(d,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u6216\u8005\u662f\u66f4\u4e3a\u7b80\u5355\u7684\uff0c\u76f4\u63a5\u5199\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u90fd\u662f\u53ef\u4ee5\u7684\u3002"),r.a.createElement(o["a"],{code:"<SuperForm\n  initApi={async () => {\n    // \u53d1\u8d77\u8bf7\u6c42\n    const data = await axiosInstance.get('/options/a');\n    // \u6570\u636e\u8f6c\u6362\n    return data.list.map((item) => ({ label: item.name, value: item.id }));\n  }}\n></SuperForm>",lang:"jsx"})),r.a.createElement(c["default"],i["default"]["api-fn"].previewerProps,r.a.createElement(u,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u8868\u5355\u9519\u8bef\u56de\u663e"},r.a.createElement(l["AnchorLink"],{to:"#\u8868\u5355\u9519\u8bef\u56de\u663e","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8868\u5355\u9519\u8bef\u56de\u663e"),r.a.createElement("p",null,"\u5bf9\u4e8e\u9519\u8bef\u56de\u663e\uff0c\u5728\u5f00\u7bc7\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u5c31\u662f\u6700\u540e\u7684 ",r.a.createElement("code",null,"Promise.reject()")," \u5fc5\u987b\u4e3a ",r.a.createElement("code",null,"{"," message: string; errors: object ","}")," \u7684\u5bf9\u8c61\u3002")),r.a.createElement(c["default"],i["default"]["api-form_error"].previewerProps,r.a.createElement(p,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u6620\u5c04"},r.a.createElement(l["AnchorLink"],{to:"#\u6620\u5c04","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u6620\u5c04"),r.a.createElement("h3",{id:"url-\u6620\u5c04"},r.a.createElement(l["AnchorLink"],{to:"#url-\u6620\u5c04","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"url \u6620\u5c04"),r.a.createElement("p",null,"api \u4e3a string \u7c7b\u578b\u6216\u8005\u5bf9\u8c61\u65f6\u7684 url \u5c5e\u6027\u652f\u6301\u53c2\u6570\u6620\u5c04\uff0c\u4f8b\u5982\uff1a",r.a.createElement("code",null,"/city?province=","{","{","data.province","}","}")," \u5c31\u4f1a\u5c06 ",r.a.createElement("code",null,"{","{","data.province","}","}")," \u66ff\u6362\u6210\u771f\u6b63\u7684\u6570\u636e\uff0c\u4f8b\u5982\uff1a")),r.a.createElement(c["default"],i["default"]["api-url_template"].previewerProps,r.a.createElement(E,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u53c2\u6570\u6620\u5c04"},r.a.createElement(l["AnchorLink"],{to:"#\u53c2\u6570\u6620\u5c04","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u6570\u6620\u5c04"),r.a.createElement("p",null,r.a.createElement("code",null,"api.data")," \u548c ",r.a.createElement("code",null,"api.params")," \u652f\u6301\u53c2\u6570\u6620\u5c04\uff0c\u4e24\u8005\u7684\u4e0d\u540c\u662f\uff0c",r.a.createElement("code",null,"api.data")," \u662f\u4f1a\u653e\u5230 ",r.a.createElement("code",null,"body")," \u4e2d\uff0c\u800c ",r.a.createElement("code",null,"api.params")," \u5219\u4f1a\u653e\u5230 ",r.a.createElement("code",null,"query")," \u4e2d\uff0c\u6211\u4eec\u4ee5 ",r.a.createElement("code",null,"SuperForm")," \u7684\u4fdd\u5b58\u63a5\u53e3\u4e3a\u4f8b\uff1a")),r.a.createElement(c["default"],i["default"]["api-request"].previewerProps,r.a.createElement(f,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u54cd\u5e94\u6620\u5c04"},r.a.createElement(l["AnchorLink"],{to:"#\u54cd\u5e94\u6620\u5c04","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u54cd\u5e94\u6620\u5c04"),r.a.createElement("p",null,r.a.createElement("code",null,"api.response")," \u53ef\u4ee5\u5bf9\u54cd\u5e94\u7ed3\u679c\u8fdb\u884c\u6620\u5c04\uff1a")),r.a.createElement(c["default"],i["default"]["api-response"].previewerProps,r.a.createElement(h,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u6620\u5c04\u51fd\u6570"},r.a.createElement(l["AnchorLink"],{to:"#\u6620\u5c04\u51fd\u6570","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u6620\u5c04\u51fd\u6570"),r.a.createElement("p",null,r.a.createElement("code",null,"api.data"),"\u3001",r.a.createElement("code",null,"api.params"),"\u3001",r.a.createElement("code",null,"api.response")," \u4e0d\u4ec5\u652f\u6301\u5b57\u7b26\u4e32\u6a21\u677f\u7684\u5f62\u5f0f\uff0c\u8fd8\u652f\u6301\u51fd\u6570\u5f62\u5f0f\uff0c\u8fd8\u662f\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u4f8b\u5982\uff1a")),r.a.createElement(c["default"],i["default"]["api-map_fn"].previewerProps,r.a.createElement(b,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"replacedata"},r.a.createElement(l["AnchorLink"],{to:"#replacedata","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"replaceData"),r.a.createElement("p",null,"\u8fd4\u56de\u7684\u6570\u636e\u662f\u5426\u66ff\u6362\u6389\u5f53\u524d\u7684\u6570\u636e\uff0c\u9ed8\u8ba4\u4e3a ",r.a.createElement("code",null,"false"),"\uff08\u5373\u8ffd\u52a0\uff09\uff0c\u8bbe\u7f6e\u4e3a ",r.a.createElement("code",null,"true")," \u5c31\u662f\u5b8c\u5168\u66ff\u6362\u5f53\u524d\u6570\u636e\u3002"),r.a.createElement("h2",{id:"message-\u63d0\u793a\u4fe1\u606f"},r.a.createElement(l["AnchorLink"],{to:"#message-\u63d0\u793a\u4fe1\u606f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"message \u63d0\u793a\u4fe1\u606f"),r.a.createElement("h3",{id:"\u81ea\u5b9a\u4e49\u63d0\u793a\u4fe1\u606f"},r.a.createElement(l["AnchorLink"],{to:"#\u81ea\u5b9a\u4e49\u63d0\u793a\u4fe1\u606f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u81ea\u5b9a\u4e49\u63d0\u793a\u4fe1\u606f"),r.a.createElement("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",r.a.createElement("code",null,"message.xxx")," \u81ea\u5b9a\u4e49\u63d0\u793a\u4fe1\u606f\uff0c\u4f8b\u5982\u5728\u8868\u5355\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",r.a.createElement("code",null,"message.saveError")," \u81ea\u5b9a\u4e49\u9519\u8bef\u63d0\u793a\u4fe1\u606f\uff1a")),r.a.createElement(c["default"],i["default"]["api-notice_custom"].previewerProps,r.a.createElement(v,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u81ea\u5b9a\u4e49\u63d0\u793a\u65b9\u5f0f"},r.a.createElement(l["AnchorLink"],{to:"#\u81ea\u5b9a\u4e49\u63d0\u793a\u65b9\u5f0f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u81ea\u5b9a\u4e49\u63d0\u793a\u65b9\u5f0f")),r.a.createElement(c["default"],i["default"]["api-notice_type"].previewerProps,r.a.createElement(k,null)))))},RZMt:function(e,a,t){},Zxc8:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),l=t("k3GJ"),c=t("9kvl"),o=t("dEAq"),i=t("H1Ra");t("RZMt");function m(e,a){return E(e)||p(e,a)||d(e,a)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,a){if(e){if("string"===typeof e)return u(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,a):void 0}}function u(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function p(e,a){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l=[],c=!0,o=!1;try{for(t=t.call(e);!(c=(n=t.next()).done);c=!0)if(l.push(n.value),a&&l.length===a)break}catch(i){o=!0,r=i}finally{try{c||null==t["return"]||t["return"]()}finally{if(o)throw r}}return l}}function E(e){if(Array.isArray(e))return e}function f(e,a){var t,n=null===(t=e.match(/\.(\w+)$/))||void 0===t?void 0:t[1];return n||(n=a.tsx?"tsx":"jsx"),n}var h=function(e){var a,t,s,d=Object(n["useRef"])(),u=Object(n["useContext"])(o["context"]),p=u.locale,E=Object(o["useLocaleProps"])(p,e),h=Object(o["useDemoUrl"])(E.identifier),b=E.demoUrl||h,v=(null===c["a"]||void 0===c["a"]?void 0:c["a"].location.hash)==="#".concat(E.identifier),k=1===Object.keys(E.sources).length,g=Object(o["useCodeSandbox"])((null===(a=E.hideActions)||void 0===a?void 0:a.includes("CSB"))?null:E),x=Object(o["useRiddle"])((null===(t=E.hideActions)||void 0===t?void 0:t.includes("RIDDLE"))?null:E),_=Object(o["useMotions"])(E.motions||[],d.current),w=m(_,2),N=w[0],y=w[1],j=Object(o["useCopy"])(),A=m(j,2),S=A[0],I=A[1],L=Object(n["useState"])("_"),O=m(L,2),P=O[0],C=O[1],F=Object(n["useState"])(f(P,E.sources[P])),R=m(F,2),T=R[0],q=R[1],M=Object(n["useState"])(Boolean(E.defaultShowCode)),U=m(M,2),G=U[0],Z=U[1],$=Object(n["useState"])(Math.random()),D=m($,2),H=D[0],J=D[1],B=E.sources[P][T]||E.sources[P].content,X=Object(o["useTSPlaygroundUrl"])(p,B),K=Object(n["useRef"])(),Y=Object(o["usePrefersColor"])(),z=m(Y,1),Q=z[0];function V(e){C(e),q(f(e,E.sources[e]))}return Object(n["useEffect"])((function(){J(Math.random())}),[Q]),r.a.createElement("div",{style:E.style,className:[E.className,"__dumi-default-previewer",v?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:E.identifier,"data-debug":E.debug||void 0,"data-iframe":E.iframe||void 0},E.iframe&&r.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),r.a.createElement("div",{ref:d,className:"__dumi-default-previewer-demo",style:{transform:E.transform?"translate(0, 0)":void 0,padding:E.compact||E.iframe&&!1!==E.compact?"0":void 0,background:E.background}},E.iframe?r.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(E.iframe).replace(/(\d)$/,"$1px")},key:H,src:b,ref:K}):E.children),r.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":E.title},E.title&&r.a.createElement(o["AnchorLink"],{to:"#".concat(E.identifier)},E.title),E.description&&r.a.createElement("div",{dangerouslySetInnerHTML:{__html:E.description}})),r.a.createElement("div",{className:"__dumi-default-previewer-actions"},g&&r.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:g}),x&&r.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:x}),E.motions&&r.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:y,onClick:function(){return N()}}),E.iframe&&r.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return J(Math.random())}}),!(null===(s=E.hideActions)||void 0===s?void 0:s.includes("EXTERNAL"))&&r.a.createElement(o["Link"],{target:"_blank",to:b},r.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),r.a.createElement("span",null),r.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":I,onClick:function(){return S(B)}}),"tsx"===T&&G&&r.a.createElement(o["Link"],{target:"_blank",to:X},r.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),r.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(G?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return Z(!G)}})),G&&r.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!k&&r.a.createElement(l["b"],{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:P,onChange:V},Object.keys(E.sources).map((function(e){return r.a.createElement(l["a"],{tab:"_"===e?"index.".concat(f(e,E.sources[e])):e,key:e})}))),r.a.createElement("div",{className:"__dumi-default-previewer-source"},r.a.createElement(i["a"],{code:B,lang:T,showCopy:!1}))))};a["default"]=h}}]);